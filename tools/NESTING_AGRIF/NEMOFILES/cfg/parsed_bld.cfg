# ----------------------- FCM extract configuration file -----------------------
cfg::type                           bld
cfg::version                        1.0


# ------------------------------------------------------------------------------
# Build information
# ------------------------------------------------------------------------------

# INC /Users/rblod/201809_Agrif/dev_r10077_Agrif/mk/arch_nemo.fcm # Start

#==========================================================
#    Automatically generated by Fcheck_archfile.sh from
#    /Users/rblod/201809_Agrif/trunk/arch/arch-osx_gfortran.fcm
#==========================================================

# generic gfortran compiler options for OSX installed with macport, http://www.macports.org/
#
# port packages needed:
#    sudo port install openmpi +gcc48
#    sudo port install hdf5-18 +cxx +fortran +openmpi (I'am not sure cxx is needed)
#    sudo port install netcdf         +openmpi
#    sudo port install netcdf-fortran +openmpi
#    sudo port install netcdf-cxx     +openmpi (I'am not sure it is needed)
#    sudo port install p5-uri
# add to your PATH /opt/local/lib/openmpi/bin so that mpif90 is properly known
#
# NCDF_HOME   root directory containing lib and include subdirectories for netcdf4
# HDF5_HOME   root directory containing lib and include subdirectories for HDF5
# XIOS_HOME   root directory containing lib for XIOS
# OASIS_HOME  root directory containing lib for OASIS
#
# NCDF_INC    netcdf4 include file
# NCDF_LIB    netcdf4 library
# XIOS_INC    xios include file    (taken into accound only if key_iomput is activated)
# XIOS_LIB    xios library         (taken into accound only if key_iomput is activated)
# OASIS_INC   oasis include file   (taken into accound only if key_oasis3 is activated)
# OASIS_LIB   oasis library        (taken into accound only if key_oasis3 is activated)
#
# FC          Fortran compiler command
# FCFLAGS     Fortran compiler flags
# FFLAGS      Fortran 77 compiler flags
# LD          linker
# LDFLAGS     linker flags, e.g. -L<lib dir> if you have libraries
# FPPFLAGS    pre-processing flags
# AR          assembler
# ARFLAGS     assembler flags
# MK          make
# USER_INC    complete list of include files
# USER_LIB    complete list of libraries to pass to the linker
# CC          C compiler used to compile conv for AGRIF
# CFLAGS      compiler flags used with CC
#
# Note that:
#  - unix variables $... are accpeted and will be evaluated before calling fcm.
#  - fcm variables are starting with a % (and not a $)
#
%NCDF_HOME                          /usr/local
%HDF5_HOME                          /usr/local
%XIOS_HOME                          /Users/rblod/xios-2.5
%OASIS_HOME                         /not/defined

%NCDF_INC                           -I/usr/local/include -I/usr/local/include
%NCDF_LIB                           -L/usr/local/lib -lnetcdff -lnetcdf
%XIOS_INC                           -I/Users/rblod/xios-2.5/inc
%XIOS_LIB                           -L/Users/rblod/xios-2.5/lib  -lstdc++
%OASIS_INC                          -I/not/defined/build/lib/mct -I/not/defined/build/lib/psmile.MPI1
%OASIS_LIB                          -L/not/defined/lib

%CPP                                /opt/local/bin/cpp
%FC                                 mpif90
%FCFLAGS                            -fdefault-real-8 -O1 -ffree-line-length-none
%FFLAGS                             -fdefault-real-8 -O1 -ffree-line-length-none
%LD                                 mpif90
%LDFLAGS                            
%FPPFLAGS                           -P -C -traditional
%AR                                 ar
%ARFLAGS                            rs
%MK                                 make
%USER_INC                           -I/Users/rblod/xios-2.5/inc -I/not/defined/build/lib/mct -I/not/defined/build/lib/psmile.MPI1 -I/usr/local/include -I/usr/local/include
%USER_LIB                           -L/Users/rblod/xios-2.5/lib  -lstdc++ -L/not/defined/lib -L/usr/local/lib -lnetcdff -lnetcdf

%CC                                 cc
%CFLAGS                             -O0
# INC /Users/rblod/201809_Agrif/dev_r10077_Agrif/mk/arch_nemo.fcm # End
# INC /Users/rblod/201809_Agrif/dev_r10077_Agrif/mk/cpp.fcm # Start
bld::tool::fppkeys                  key_mpp_mpi key_nosignedzero key_agrif
# INC /Users/rblod/201809_Agrif/dev_r10077_Agrif/mk/cpp.fcm # End
search_src                          1

src::nemo                           /Users/rblod/201809_Agrif/dev_r10077_Agrif/tools/NESTING_AGRIF/src

bld::target                         agrif_user.f90 agrif2model.f90 create_coordinate.f90

dir::root                           /Users/rblod/201809_Agrif/dev_r10077_Agrif/tools/NESTING_AGRIF/NEMOFILES

bld::tool::fc_output                
bld::tool::fc_compile               
bld::tool::fc_include               
bld::tool::fc                       /Users/rblod/201809_Agrif/dev_r10077_Agrif/mk/agrifpp_2.sh
bld::tool::fflags                   
bld::tool::ld                       
bld::tool::ldflags                  
bld::tool::ar                       
bld::tool::arflags                  
bld::tool::make                     make

OUTFILE_EXT::obj                    .f90

# Pre-process code before analysing dependencies
bld::pp::nemo                       1
bld::pp::nemo/agrif2model           0
bld::tool::cpp                      /opt/local/bin/cpp
bld::tool::fpp                      /opt/local/bin/cpp
bld::tool::fppflags::nemo           -P -C -traditional

# Ignore the following dependencies
bld::excl_dep                       inc::netcdf.inc
bld::excl_dep                       inc::VT.inc
bld::excl_dep                       use::netcdf
bld::excl_dep                       h::netcdf.inc
bld::excl_dep                       h::mpif.h
bld::excl_dep                       inc::mpif.h
bld::excl_dep                       inc::mpe_logf.h
bld::excl_dep                       use::mpi
bld::excl_dep                       use::mod_oasis
bld::excl_dep                       use::mkl_dfti
bld::excl_dep                       use::nc4interface
bld::excl_dep                       use::ioipsl
bld::excl_dep                       use::xios
bld::excl_dep                       use::agrif_grids
bld::excl_dep                       use::agrif_types
bld::excl_dep                       use::agrif_util
bld::excl_dep                       inc::SetNumberofcells.h
bld::excl_dep                       inc::GetNumberofcells.h
bld::excl_dep                       inc::include_use_Alloc_agrif.h
bld::excl_dep                       inc::allocations_calls_agrif.h
bld::excl_dep                       inc::modtype_agrif.h
bld::excl_dep                       inc::probdim_agrif.h
bld::excl_dep                       inc::keys_agrif.h
bld::excl_dep                       h::SetNumberofcells.h
bld::excl_dep                       h::GetNumberofcells.h
bld::excl_dep                       h::include_use_Alloc_agrif.h
bld::excl_dep                       h::allocations_calls_agrif.h
bld::excl_dep                       h::modtype_agrif.h
bld::excl_dep                       h::probdim_agrif.h
bld::excl_dep                       h::keys_agrif.h
bld::excl_dep                       use::mod_attribut
bld::excl_dep                       use::mod_event_client
bld::excl_dep                       use::mod_ioclient
#bld::excl_dep        OBJ

# Don't generate interface files
bld::tool::geninterface             none

# Allow ".h90" and ".f90" as an extension for CPP include files
bld::infile_ext::h90                CPP::INCLUDE
bld::infile_ext::f90                FPP::FPP9X::SOURCE
bld::src_type::nemo/agrif2model.F90 FORTRAN::FORTRAN9X::SOURCE
